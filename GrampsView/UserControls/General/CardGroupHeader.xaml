<Frame
    x:Class="GrampsView.UserControls.CardGroupHeader"
    xmlns="http://xamarin.com/schemas/2014/forms"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:toolkit="http://xamarin.com/schemas/2020/toolkit"
    x:Name="CardGroupHeaderRoot"
    Margin="0"
    Padding="0"
    BackgroundColor="Transparent"
    Style="{StaticResource CardGroupStyle}">

    <Frame.Resources>
        <ResourceDictionary>
            <toolkit:IsNotNullOrEmptyConverter x:Key="stringToBool" />
        </ResourceDictionary>
    </Frame.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <Frame
            x:Name="LLCardLargeFrame"
            Grid.Row="0"
            Margin="0"
            Padding="0"
            BackgroundColor="{AppThemeBinding Dark={StaticResource SecondaryColorDark},
                                              Light={StaticResource SecondaryColorLight}}"
            CornerRadius="2"
            IsVisible="{Binding Title, Converter={StaticResource stringToBool}, Mode=OneWay}">
            <Label
                Margin="0"
                Style="{StaticResource GVHeaderStyleMedium}"
                Text="{Binding Title}"
                TextColor="Black" />
        </Frame>

        <FlexLayout
            x:Name="CardGroupTemplateFlexer"
            Grid.Row="1"
            BindableLayout.ItemTemplateSelector="{StaticResource CardTemplateSelector}"
            BindableLayout.ItemsSource="{Binding ., Mode=OneWay}"
            Style="{StaticResource FlexLayoutCards}" />
    </Grid>
</Frame>